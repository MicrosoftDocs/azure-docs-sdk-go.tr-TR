---
title: Go için Azure SDK ile kimlik doğrulaması
description: Go için Azure SDK’da bulabileceğiniz kimlik doğrulama yöntemlerini ve bu yöntemleri nasıl kullanacağınızı öğrenin.
services: azure
author: sptramer
ms.author: sttramer
manager: carmonm
ms.date: 04/03/2018
ms.topic: conceptual
ms.prod: azure
ms.technology: azure-sdk-go
ms.devlang: go
ms.service: active-directory
ms.component: authentication
ms.openlocfilehash: 370f5607b89c0044022f7987d06c3a55c9d6f352
ms.sourcegitcommit: f08abf902b48f8173aa6e261084ff2cfc9043305
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/03/2018
ms.locfileid: "32319892"
---
# <a name="authentication-methods-in-the-azure-sdk-for-go"></a><span data-ttu-id="91e05-103">Go için Azure SDK’da kimlik doğrulama yöntemleri</span><span class="sxs-lookup"><span data-stu-id="91e05-103">Authentication methods in the Azure SDK for Go</span></span>

<span data-ttu-id="91e05-104">Go için Azure SDK, uygulamanızın kullanabileceği çeşitli kimlik doğrulama türleri ve yöntemleri sunar.</span><span class="sxs-lookup"><span data-stu-id="91e05-104">The Azure SDK for Go offers a variety of authentication types and methods that your application can use.</span></span> <span data-ttu-id="91e05-105">Desteklenen kimlik doğrulama yöntemleri, ortam değişkenlerinden bilgi çekme ile etkileşimli web tabanlı kimlik doğrulama arasında değişiklik gösterir.</span><span class="sxs-lookup"><span data-stu-id="91e05-105">Supported authentication methods range from pulling information from environment variables to interactive web-based authentication.</span></span> <span data-ttu-id="91e05-106">Bu makale size SDK’da bulunan kullanılabilir kimlik doğrulama türlerini ve bunları kullanmaya yönelik yöntemleri tanıtır.</span><span class="sxs-lookup"><span data-stu-id="91e05-106">This article introduces you to the available types of authentication in the SDK, and the methods for using them.</span></span> <span data-ttu-id="91e05-107">Ayrıca uygulamanız için doğru kimlik doğrulama türünü seçmeye yönelik en iyi yöntemleri öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-107">You'll also learn best practices for selecting which authentication type is right for your application.</span></span>

## <a name="available-authentication-types-and-methods"></a><span data-ttu-id="91e05-108">Kullanılabilir kimlik doğrulama türleri ve yöntemleri</span><span class="sxs-lookup"><span data-stu-id="91e05-108">Available authentication types and methods</span></span>

<span data-ttu-id="91e05-109">Go için Azure SDK, farklı kimlik bilgileri kümeleri kullanarak birkaç farklı türde kimlik doğrulaması sunar.</span><span class="sxs-lookup"><span data-stu-id="91e05-109">The Azure SDK for Go offers several different types of authentication, using different credentials sets.</span></span> <span data-ttu-id="91e05-110">Bu kimlik doğrulama türlerinden her biri, SDK’nın bu kimlik bilgilerini giriş olarak alması gibi, farklı kimlik doğrulama yöntemleri aracılığıyla kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="91e05-110">Each of these authentication types are available through different authentication methods, which are how the SDK takes these credentials as input.</span></span> <span data-ttu-id="91e05-111">Aşağıdaki tabloda uygulamanız tarafından kullanılması önerilen uygun kimlik doğrulama türleri açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="91e05-111">The following table describes the available types of authentication and situations in which they're recommended for use by your application.</span></span>

| <span data-ttu-id="91e05-112">Kimlik doğrulaması türü</span><span class="sxs-lookup"><span data-stu-id="91e05-112">Authentication type</span></span> | <span data-ttu-id="91e05-113">Şunlar olduğunda önerilir...</span><span class="sxs-lookup"><span data-stu-id="91e05-113">Recommended when...</span></span> |
|---------------------|---------------------|
| <span data-ttu-id="91e05-114">Sertifika tabanlı kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="91e05-114">Certificate-based authentication</span></span> | <span data-ttu-id="91e05-115">Azure Active Directory (AAD) kullanıcısı veya hizmet sorumlusu için yapılandırılmış bir X509 sertifikasına sahipsiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-115">You have an X509 certificate that was configured for an Azure Active Directory (AAD) user or service principal.</span></span> <span data-ttu-id="91e05-116">Daha fazla bilgi için bkz. [Azure Active Directory’de sertifika tabanlı kimlik doğrulamayı kullanmaya başlama].</span><span class="sxs-lookup"><span data-stu-id="91e05-116">To learn more, see [Get started with certificate-based authentication in Azure Active Directory].</span></span> |
| <span data-ttu-id="91e05-117">İstemci kimlik bilgileri</span><span class="sxs-lookup"><span data-stu-id="91e05-117">Client credentials</span></span> | <span data-ttu-id="91e05-118">Bu uygulamaya veya ait olduğu uygulama sınıfına ayarlı yapılandırılmış bir hizmet sorumlusuna sahipsiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-118">You have a configured service principal that is set up for this application or a class of applications it belongs to.</span></span> <span data-ttu-id="91e05-119">Daha fazla bilgi için bkz. [Azure CLI 2.0 ile hizmet sorumlusu oluşturma].</span><span class="sxs-lookup"><span data-stu-id="91e05-119">To learn more, see [Create a service principal with Azure CLI 2.0].</span></span> |
| <span data-ttu-id="91e05-120">Yönetilen Hizmet Kimliği (MSI)</span><span class="sxs-lookup"><span data-stu-id="91e05-120">Managed Service Identity (MSI)</span></span> | <span data-ttu-id="91e05-121">Uygulamanız, Yönetilen Hizmet Kimliği (MSI) ile yapılandırılmış bir Azure kaynak üzerinde çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="91e05-121">Your application is running on an Azure resource that has been configured with Managed Service Identity (MSI).</span></span> <span data-ttu-id="91e05-122">Daha fazla bilgi için bkz. [Azure kaynakları için Yönetilen Hizmet Kimliği (MSI)].</span><span class="sxs-lookup"><span data-stu-id="91e05-122">To learn more, see [Managed Service Identity (MSI) for Azure resources].</span></span> |
| <span data-ttu-id="91e05-123">Cihaz belirteci</span><span class="sxs-lookup"><span data-stu-id="91e05-123">Device token</span></span> | <span data-ttu-id="91e05-124">Uygulamanızın __yalnızca__ etkileşimli olarak kullanılması amaçlanmıştır ve potansiyel olarak birden çok AAD kiracısından olan çeşitli kullanıcılara sahip olacaktır.</span><span class="sxs-lookup"><span data-stu-id="91e05-124">Your application is meant to be used interactively __only__ and will have a variety of users, potentially from multiple AAD tenants.</span></span> <span data-ttu-id="91e05-125">Kullanıcıların oturum açmak için bir web tarayıcısına erişimi olur.</span><span class="sxs-lookup"><span data-stu-id="91e05-125">Users have access to a web browser to log in.</span></span> <span data-ttu-id="91e05-126">Daha fazla bilgi için bkz. [Cihaz belirteci kimlik doğrulaması kullanma](#use-device-token-authentication).</span><span class="sxs-lookup"><span data-stu-id="91e05-126">For more information, see [Use device token authentication](#use-device-token-authentication).</span></span>|
| <span data-ttu-id="91e05-127">Kullanıcı adı/parola</span><span class="sxs-lookup"><span data-stu-id="91e05-127">Username/password</span></span> | <span data-ttu-id="91e05-128">Başka herhangi bir kimlik doğrulama yöntemi kullanamayan etkileşimli bir uygulamaya sahipsiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-128">You have an interactive application that cannot use any other authentication method.</span></span> <span data-ttu-id="91e05-129">Kullanıcılarınızın çok faktörlü kimlik doğrulaması özelliği AAD oturum açma işlemleri için etkinleştirilmemiş.</span><span class="sxs-lookup"><span data-stu-id="91e05-129">Your users do not have multi-factor authentication enabled for their AAD login.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="91e05-130">İstemci kimlik bilgileri dışında bir kimlik doğrulama türü kullanıyorsanız, uygulamanız Azure Active Directory'de kayıtlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="91e05-130">If you use an authentication type other than client credentials, your application must be registered in Azure Active Directory.</span></span> <span data-ttu-id="91e05-131">Bunu nasıl yapacağınızı öğrenmek için bkz. [Uygulamaları Azure Active Directory ile tümleştirme](/azure/active-directory/develop/active-directory-integrating-applications).</span><span class="sxs-lookup"><span data-stu-id="91e05-131">To learn how, see [Integrating applications with Azure Active Directory](/azure/active-directory/develop/active-directory-integrating-applications).</span></span>

> [!NOTE]
> <span data-ttu-id="91e05-132">Özel gereksinimleriniz yoksa, kullanıcı adı/parola kimlik doğrulamasından kaçının.</span><span class="sxs-lookup"><span data-stu-id="91e05-132">Unless you have special requirements, avoid username/password authentication.</span></span> <span data-ttu-id="91e05-133">Kullanıcı tabanlı oturum açmanın uygun olduğu durumlarda, genellikle bunun yerine cihaz belirteci kimlik doğrulaması kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="91e05-133">In situations where user-based login is appropriate, device token authentication can usually be used instead.</span></span>

[Azure Active Directory’de sertifika tabanlı kimlik doğrulamayı kullanmaya başlama]: /azure/active-directory/active-directory-certificate-based-authentication-get-started
[Get started with certificate-based authentication in Azure Active Directory]: /azure/active-directory/active-directory-certificate-based-authentication-get-started
[Azure CLI 2.0 ile hizmet sorumlusu oluşturma]: /cli/azure/create-an-azure-service-principal-azure-cli
[Create a service principal with Azure CLI 2.0]: /cli/azure/create-an-azure-service-principal-azure-cli
[Azure kaynakları için Yönetilen Hizmet Kimliği (MSI)]: /azure/active-directory/managed-service-identity/overview
[Managed Service Identity (MSI) for Azure resources]: /azure/active-directory/managed-service-identity/overview

<span data-ttu-id="91e05-137">Bu kimlik doğrulama türleri farklı yöntemler üzerinden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="91e05-137">These authentication types are available through different methods.</span></span> <span data-ttu-id="91e05-138">[_Ortam tabanlı kimlik doğrulama_](#use-environment-based-authentication) kimlik bilgilerini doğrudan programın ortamından okur.</span><span class="sxs-lookup"><span data-stu-id="91e05-138">[_Environment-based authentication_](#use-environment-based-authentication) reads credentials directly from the program's environment.</span></span> <span data-ttu-id="91e05-139">[_Dosya tabanlı kimlik doğrulama_](#use-file-based-authentication) hizmet sorumlusu kimlik bilgilerini içeren bir dosya yükler.</span><span class="sxs-lookup"><span data-stu-id="91e05-139">[_File-based authentication_](#use-file-based-authentication) loads a file containing service principal credentials.</span></span> <span data-ttu-id="91e05-140">[_İstemci tabanlı kimlik doğrulama_](#use-an-authentication-client) Go kodunda bir nesne kullanır ve program yürütme sırasında sizi kimlik bilgilerini sağlama görevinden sorumlu hale getirir.</span><span class="sxs-lookup"><span data-stu-id="91e05-140">[_Client-based authentication_](#use-an-authentication-client) uses an object in Go code and makes you responsible for providing the credentials during program execution.</span></span> <span data-ttu-id="91e05-141">Son olarak, [_Cihaz belirteci kimlik doğrulaması_](#use-device-token-authentication) kullanıcıların bir belirteç ile web tarayıcısı üzerinden etkileşimli olarak oturum açmalarını gerektirir ve ortam ya da dosya tabanlı kimlik doğrulama ile kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="91e05-141">Finally, [_Device token authentication_](#use-device-token-authentication) requires users to log in interactively through a web browser with a token, and cannot be used with environment- or file-based authentication.</span></span>

<span data-ttu-id="91e05-142">Tüm kimlik doğrulama işlevleri ve türleri `github.com/Azure/go-autorest/autorest/azure/auth` paketinde kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="91e05-142">All authentication functions and types are available in the `github.com/Azure/go-autorest/autorest/azure/auth` package.</span></span>

> [!NOTE]
> <span data-ttu-id="91e05-143">Özel gereksinimleriniz yoksa, istemci tabanlı kimlik doğrulamadan kaçının.</span><span class="sxs-lookup"><span data-stu-id="91e05-143">Unless you have special requirements, avoid client-based authentication.</span></span> <span data-ttu-id="91e05-144">Bu kimlik doğrulama yöntemi hatalı uygulamalara sevk eder.</span><span class="sxs-lookup"><span data-stu-id="91e05-144">This method of authentication encourages bad practices.</span></span> <span data-ttu-id="91e05-145">Özellikle, istemci tabanlı kimlik doğrulama kullanmak kimlik bilgilerini doğrudan yazmayı cazip kılar.</span><span class="sxs-lookup"><span data-stu-id="91e05-145">In particular, using client-based authentication makes it tempting to hard-code credentials.</span></span> <span data-ttu-id="91e05-146">Kimlik doğrulama için özel kod yazmak da ayrıca kimlik doğrulama değişiklik gerektirdiğinde gelecek SDK sürümlerinde başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="91e05-146">Writing custom code for authentication may also break under future SDK releases if authentication requirements change.</span></span>

## <a name="use-environment-based-authentication"></a><span data-ttu-id="91e05-147">Ortam tabanlı kimlik doğrulama kullanma</span><span class="sxs-lookup"><span data-stu-id="91e05-147">Use environment-based authentication</span></span>

<span data-ttu-id="91e05-148">Uygulamanızı bir kapsayıcı gibi sıkı denetimli bir ortamda çalıştırıyorsanız, ortam tabanlı kimlik doğrulama doğal bir tercihtir.</span><span class="sxs-lookup"><span data-stu-id="91e05-148">If you're running your application in a tightly controlled environment such as in a container, environment-based authentication is a natural choice.</span></span> <span data-ttu-id="91e05-149">Uygulamanızı çalıştırmadan önce kabuk ortamını yapılandırdığınızda, Go SDK bu ortam değişkenlerini Azure ile kimlik doğrulamak için çalışma zamanında okur.</span><span class="sxs-lookup"><span data-stu-id="91e05-149">You configure the shell environment before running your application and the Go SDK reads these environment variables at runtime to authenticate with Azure.</span></span> 

<span data-ttu-id="91e05-150">Ortam tabanlı kimlik doğrulamanın, cihaz belirteçleri hariç şu sırayla değerlendirilmiş tüm kimlik doğrulama yöntemleri için desteği vardır: İstemci kimlik bilgileri, sertifikalar, kullanıcı adı/parola ve Yönetilen Hizmet Kimliği (MSI).</span><span class="sxs-lookup"><span data-stu-id="91e05-150">Environment-based authentication has support for all authentication methods except device tokens, evaluated in the following order: Client credentials, certificates, username/password, and Managed Service Identity (MSI).</span></span> <span data-ttu-id="91e05-151">Gerekli ortam değişkeni ayarlanmamış ya da SDK, kimlik doğrulama hizmetinden bir reddetme iletisi alıyorsa, sonraki kimlik doğrulama türü denenir.</span><span class="sxs-lookup"><span data-stu-id="91e05-151">If a required environment variable is unset or the SDK gets a refusal from the authentication service, the next authentication type is tried.</span></span> <span data-ttu-id="91e05-152">SDK ortamdan kimlik doğrulaması yapamıyorsa, bir hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="91e05-152">If the SDK cannot authenticate from the environment, it returns an error.</span></span>

<span data-ttu-id="91e05-153">Aşağıdaki tabloda ortam tabanlı kimlik doğrulama tarafından desteklenen her bir kimlik doğrulama türüne ayarlanması gereken ortam değişkenlerinin ayrıntıları verilmektedir.</span><span class="sxs-lookup"><span data-stu-id="91e05-153">The following table details the environment variables that need to be set for each authentication type supported by environment-based authentication.</span></span>

| <span data-ttu-id="91e05-154">Kimlik doğrulaması türü</span><span class="sxs-lookup"><span data-stu-id="91e05-154">Authentication type</span></span> | <span data-ttu-id="91e05-155">Ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="91e05-155">Environment variable</span></span> | <span data-ttu-id="91e05-156">Açıklama</span><span class="sxs-lookup"><span data-stu-id="91e05-156">Description</span></span> |
| ------------------- | -------------------- | ----------- |
| <span data-ttu-id="91e05-157">__İstemci kimlik bilgileri__</span><span class="sxs-lookup"><span data-stu-id="91e05-157">__Client credentials__</span></span> | `AZURE_TENANT_ID` | <span data-ttu-id="91e05-158">Hizmet sorumlusunun ait olduğu Active Directory kiracısının kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-158">The ID for the Active Directory tenant that the service principal belongs to.</span></span> |
| | `AZURE_CLIENT_ID` | <span data-ttu-id="91e05-159">Hizmet sorumlusunun adı veya kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-159">The name or ID of the service principal.</span></span> |
| | `AZURE_CLIENT_SECRET` | <span data-ttu-id="91e05-160">Hizmet sorumlusuyla ilişkili gizli dizi.</span><span class="sxs-lookup"><span data-stu-id="91e05-160">The secret associated with the service principal.</span></span> |
| <span data-ttu-id="91e05-161">__Sertifika__</span><span class="sxs-lookup"><span data-stu-id="91e05-161">__Certificate__</span></span> | `AZURE_TENANT_ID` | <span data-ttu-id="91e05-162">Sertifikanın birlikte kayıtlı olduğu Active Directory kiracısının kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-162">The ID for the Active Directory tenant that the certificate is registered with.</span></span> |
| | `AZURE_CLIENT_ID` | <span data-ttu-id="91e05-163">Sertifikayla ilişkili uygulama istemci kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-163">The application client ID associated with the certificate.</span></span> |
| | `AZURE_CERTIFICATE_PATH` | <span data-ttu-id="91e05-164">İstemci sertifikası dosyası yolu.</span><span class="sxs-lookup"><span data-stu-id="91e05-164">The path to the client certificate file.</span></span> |
| | `AZURE_CERTIFICATE_PASSWORD` | <span data-ttu-id="91e05-165">İstemci sertifikası için parola.</span><span class="sxs-lookup"><span data-stu-id="91e05-165">The password for the client certificate.</span></span> |
| <span data-ttu-id="91e05-166">__Kullanıcı Adı/Parola__</span><span class="sxs-lookup"><span data-stu-id="91e05-166">__Username/Password__</span></span> | `AZURE_TENANT_ID` | <span data-ttu-id="91e05-167">Kullanıcının ait olduğu Active Directory kiracısının kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-167">The ID for the Active Directory tenant that the user belongs to.</span></span> |
| | `AZURE_CLIENT_ID` | <span data-ttu-id="91e05-168">Uygulama istemci kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-168">The application client ID.</span></span> |
| | `AZURE_USERNAME` | <span data-ttu-id="91e05-169">Oturum açmada kullanılan kullanıcı adı.</span><span class="sxs-lookup"><span data-stu-id="91e05-169">The username to log in with.</span></span> |
| | `AZURE_PASSWORD` | <span data-ttu-id="91e05-170">Oturum açmada kullanılan parola.</span><span class="sxs-lookup"><span data-stu-id="91e05-170">The password to log in with.</span></span> |
| <span data-ttu-id="91e05-171">__MSI__</span><span class="sxs-lookup"><span data-stu-id="91e05-171">__MSI__</span></span> | | <span data-ttu-id="91e05-172">MSI, ayarlanacak herhangi bir kimlik bilgisi gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="91e05-172">MSI does not require any credentials to be set.</span></span> <span data-ttu-id="91e05-173">Uygulama, MSI kullanmak üzere yapılandırılmış bir Azure kaynağında çalışıyor olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="91e05-173">The application must be running on an Azure resource configured to use MSI.</span></span> <span data-ttu-id="91e05-174">Ayrıntılı bilgi için bkz. [Azure kaynakları için Yönetilen Hizmet Kimliği (MSI)].</span><span class="sxs-lookup"><span data-stu-id="91e05-174">For details, see [Managed Service Identity (MSI) for Azure resources].</span></span> |

<span data-ttu-id="91e05-175">Varsayılan Azure genel bulut dışında başka bir bulut ya da yönetim uç noktasına bağlanmanız gerekiyorsa, aşağıdaki ortam değişkenlerini de ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-175">If you need to connect to a cloud or management endpoint other than the default Azure public cloud, you can also set the following environment variables.</span></span> <span data-ttu-id="91e05-176">Bunları ayarlamak için en yaygın nedenler, Azure Stack, farklı bir coğrafi bölgede bulut veya Azure Klasik dağıtım modeli kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="91e05-176">The most common reasons to set them are if you use Azure Stack, a cloud in a different geographic region, or the Azure Classic deployment model.</span></span>

| <span data-ttu-id="91e05-177">Ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="91e05-177">Environment variable</span></span> | <span data-ttu-id="91e05-178">Açıklama</span><span class="sxs-lookup"><span data-stu-id="91e05-178">Description</span></span>  |
|----------------------|--------------|
| `AZURE_ENVIRONMENT` | <span data-ttu-id="91e05-179">Bağlanılacak bulut ortamı adı.</span><span class="sxs-lookup"><span data-stu-id="91e05-179">The name of the cloud environment to connect to.</span></span> |
| `AZURE_AD_RESOURCE` | <span data-ttu-id="91e05-180">Bağlanırken kullanılacak Active Directory kaynak kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-180">The Active Directory resource ID to use when connecting.</span></span> <span data-ttu-id="91e05-181">Bu, yönetim uç noktanıza işaret eden bir URI olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="91e05-181">This should be a URI pointing to your management endpoint.</span></span> |

<span data-ttu-id="91e05-182">Ortam tabanlı kimlik doğrulaması kullanırken, yetkilendirici nesnenizi almak için [NewAuthorizerFromEnvironment](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromEnvironment) işlevini çağırın.</span><span class="sxs-lookup"><span data-stu-id="91e05-182">When using environment-based authentication, call the [NewAuthorizerFromEnvironment](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromEnvironment) function to get your authorizer object.</span></span> <span data-ttu-id="91e05-183">Bu nesne daha sonra Azure’a erişmesine izin vermek için istemcilerin `Authorizer` özelliğinde ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="91e05-183">This object is then set on the `Authorizer` property of clients to allow them access to Azure.</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
authorizer, err := auth.NewAuthorizerFromEnvironment()
```

### <a name="authentication-on-azure-stack"></a><span data-ttu-id="91e05-184">Azure Stack’te Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="91e05-184">Authentication on Azure Stack</span></span>

<span data-ttu-id="91e05-185">Azure Stack’te kimlik doğrulaması yapmak için aşağıdaki değişkenleri ayarlamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="91e05-185">To authenticate on Azure Stack, you need to set the following variables:</span></span>

| <span data-ttu-id="91e05-186">Ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="91e05-186">Environment variable</span></span> | <span data-ttu-id="91e05-187">Açıklama</span><span class="sxs-lookup"><span data-stu-id="91e05-187">Description</span></span>  |
|----------------------|--------------|
| `AZURE_AD_ENDPOINT` | <span data-ttu-id="91e05-188">Active Directory uç noktası.</span><span class="sxs-lookup"><span data-stu-id="91e05-188">The Active Directory endpoint.</span></span> |
| `AZURE_AD_RESOURCE` | <span data-ttu-id="91e05-189">Active Directory kaynak kimliği.</span><span class="sxs-lookup"><span data-stu-id="91e05-189">The Active Directory resource ID.</span></span> |

<span data-ttu-id="91e05-190">Bu değişkenler Azure Stack meta data verilerinden alınabilir.</span><span class="sxs-lookup"><span data-stu-id="91e05-190">These variables can be retrieved from Azure Stack metadata information.</span></span> <span data-ttu-id="91e05-191">Meta verileri almak için Azure Stack ortamınızda bir web tarayıcısı açıp şu URL’yi kullanın: `(ResourceManagerURL)/metadata/endpoints?api-version=1.0`</span><span class="sxs-lookup"><span data-stu-id="91e05-191">To retrieve the metadata, open a web browser in your Azure Stack environment and use the url: `(ResourceManagerURL)/metadata/endpoints?api-version=1.0`</span></span>

<span data-ttu-id="91e05-192">`ResourceManagerURL` Azure Stack dağıtımınızın bölge adı, makine adı ve dış tam etki alanı adına (FQDN) göre değişiklik gösterebilir:</span><span class="sxs-lookup"><span data-stu-id="91e05-192">The `ResourceManagerURL` varies based on the region name, machine name and external fully qualified domain name (FQDN) of your Azure Stack deployment:</span></span>

| <span data-ttu-id="91e05-193">Ortam</span><span class="sxs-lookup"><span data-stu-id="91e05-193">Environment</span></span> | <span data-ttu-id="91e05-194">ResourceManagerURL</span><span class="sxs-lookup"><span data-stu-id="91e05-194">ResourceManagerURL</span></span> |
|----------------------|--------------|
| <span data-ttu-id="91e05-195">Geliştirme Seti</span><span class="sxs-lookup"><span data-stu-id="91e05-195">Development Kit</span></span> | `https://management.local.azurestack.external/` |
| <span data-ttu-id="91e05-196">Tümleşik Sistemler</span><span class="sxs-lookup"><span data-stu-id="91e05-196">Integrated Systems</span></span> | `https://management.(region).ext-(machine-name).(FQDN)` |

<span data-ttu-id="91e05-197">Azure Stack üzerinde Go için Azure SDK’sını kullanma hakkında daha fazla bilgi için [Azure Stack’te GO ile API sürümü profillerini kullanma](https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-version-profiles-go) sayfasına başvurun</span><span class="sxs-lookup"><span data-stu-id="91e05-197">For more details on how to use Azure SDK for Go on Azure Stack see [Use API version profiles with Go in Azure Stack](https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-version-profiles-go)</span></span>


## <a name="use-file-based-authentication"></a><span data-ttu-id="91e05-198">Dosya tabanlı kimlik doğrulama kullanma</span><span class="sxs-lookup"><span data-stu-id="91e05-198">Use file-based authentication</span></span>

<span data-ttu-id="91e05-199">Dosya tabanlı kimlik doğrulaması, istemci kimlik bilgileriyle yalnızca [Azure CLI 2.0](/cli/azure) tarafından oluşturulan yerel dosya biçiminde depolandığında çalışır.</span><span class="sxs-lookup"><span data-stu-id="91e05-199">File-based authentication only works with client credentials when they are stored in a local file format generated by [the Azure CLI 2.0](/cli/azure).</span></span> <span data-ttu-id="91e05-200">Bu dosyayı `--sdk-auth` parametresiyle yeni bir hizmet sorumlusu oluştururken kolaylıkla oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-200">You can easily create this file when creating a new service principal with the `--sdk-auth` parameter.</span></span> <span data-ttu-id="91e05-201">Dosya tabanlı kimlik doğrulama kullanmayı planlıyorsanız, hizmet sorumlusu oluştururken bu bağımsız değişkenin sağlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="91e05-201">If you plan on using file-based authentication, make sure that this argument is provided when creating a service principal.</span></span> <span data-ttu-id="91e05-202">CLI çıktıyı `stdout` öğesine yazdırdığından, çıktıyı bir dosyaya yeniden yönlendirin.</span><span class="sxs-lookup"><span data-stu-id="91e05-202">Since the CLI prints output to `stdout`, redirect output to a file.</span></span>

```azurecli
az ad sp create-for-rbac --sdk-auth > azure.auth
```

<span data-ttu-id="91e05-203">`AZURE_AUTH_LOCATION` ortam değişkenini yetkilendirme dosyasının bulunduğu konuma ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="91e05-203">Set the `AZURE_AUTH_LOCATION` environment variable to where the authorization file is located.</span></span> <span data-ttu-id="91e05-204">Ortam değişkeni uygulama tarafından okunur ve içindeki kimlik bilgileriyse ayrıştırılır.</span><span class="sxs-lookup"><span data-stu-id="91e05-204">This environment variable is read by the application, and the credentials within it are parsed.</span></span> <span data-ttu-id="91e05-205">Yetkilendirme dosyasını çalışma zamanında seçmeniz gerekiyorsa, [os.Setenv](https://golang.org/pkg/os/#Setenv) işlevini kullanarak programın ortamını işleyin.</span><span class="sxs-lookup"><span data-stu-id="91e05-205">If you need to select the authorization file at runtime, manipulate the program's environment using the [os.Setenv](https://golang.org/pkg/os/#Setenv) function.</span></span>

<span data-ttu-id="91e05-206">Kimlik doğrulama bilgilerini yüklemek için [NewAuthorizerFromFile](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromFile) işlevini çağırın.</span><span class="sxs-lookup"><span data-stu-id="91e05-206">To load the authentication information, call the [NewAuthorizerFromFile](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewAuthorizerFromFile) function.</span></span> <span data-ttu-id="91e05-207">Ortam tabanlı yetkilendirmeden farklı olarak, dosya tabanlı yetkilendirme bir kaynak uç noktası gerektirir.</span><span class="sxs-lookup"><span data-stu-id="91e05-207">Unlike environment-based authorization, file-based authorization requires a resource endpoint.</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
authorizer, err := NewAuthorizerFromFile(azure.PublicCloud.ResourceManagerEndpoint)
```

<span data-ttu-id="91e05-208">Hizmet sorumlularını kullanma ve erişim izinlerini yönetmeyle ilgili daha fazla bilgi için bkz. [Azure CLI 2.0 ile hizmet sorumlusu oluşturma].</span><span class="sxs-lookup"><span data-stu-id="91e05-208">For more on using service principals and managing their access permissions, see [Create a service principal with Azure CLI 2.0].</span></span>

## <a name="use-device-token-authentication"></a><span data-ttu-id="91e05-209">Cihaz belirteci kimlik doğrulaması kullanma</span><span class="sxs-lookup"><span data-stu-id="91e05-209">Use device token authentication</span></span>

<span data-ttu-id="91e05-210">Kullanıcıların etkileşimli olarak oturum açmasını istiyorsanız, bu olanağı sunmanın en iyi yolu cihaz belirteci kimlik doğrulamasından geçer.</span><span class="sxs-lookup"><span data-stu-id="91e05-210">If you want users to log in interactively, the best way to offer that capability is through device token authentication.</span></span> <span data-ttu-id="91e05-211">Bu kimlik doğrulama akışı, bir Microsoft oturum açma sitesine yapıştırmak üzere kullanıcıya bir belirteç geçirir. Kullanıcı daha sonra bu sitede bir Azure Active Directory (AAD) hesabıyla oturum açar.</span><span class="sxs-lookup"><span data-stu-id="91e05-211">This authentication flow passes the user a token to paste into a Microsoft login site, where they then log in with an Azure Active Directory (AAD) account.</span></span> <span data-ttu-id="91e05-212">Bu kimlik doğrulama yöntemi, standart kullanıcı adı/parola kimlik doğrulamasının aksine, çok faktörlü kimlik doğrulamasının etkinleştirildiği hesapları destekler.</span><span class="sxs-lookup"><span data-stu-id="91e05-212">This authentication method supports accounts that have multi-factor authentication enabled, unlike standard username/password authentication.</span></span>

<span data-ttu-id="91e05-213">Cihaz belirteci kimlik doğrulamasını kullanmak için, [NewDeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewDeviceFlowConfig) işleviyle bir [DeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig) yetkilendiricisi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="91e05-213">To use device token authentication, create a [DeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig) authorizer with the [NewDeviceFlowConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#NewDeviceFlowConfig) function.</span></span> <span data-ttu-id="91e05-214">Kimlik doğrulama işlemini başlatmak için sonuç nesnesinin üzerinde [Authorizer](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig.Authorizer) işlevini çağırın.</span><span class="sxs-lookup"><span data-stu-id="91e05-214">Call [Authorizer](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig.Authorizer) on the resulting object to start the authentication process.</span></span> <span data-ttu-id="91e05-215">Cihaz akışı kimlik doğrulaması, tüm kimlik doğrulama akışı tamamlanana kadar program yürütmesini engeller.</span><span class="sxs-lookup"><span data-stu-id="91e05-215">Device flow authentication blocks program execution until the whole authentication flow is complete.</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
deviceConfig := auth.NewDeviceFlowConfig(applicationID, tenantID)
authorizer, err := deviceConfig.Authorizer()
```

## <a name="use-an-authentication-client"></a><span data-ttu-id="91e05-216">Kimlik doğrulama istemcisini kullanma</span><span class="sxs-lookup"><span data-stu-id="91e05-216">Use an authentication client</span></span>

<span data-ttu-id="91e05-217">Belirli bir türde kimlik doğrulama gerekiyorsa ve programınızın kullanıcıdan kimlik doğrulama bilgilerini yükleme işini yapmasını kabul ediyorsanız, [auth.AuthorizerConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#AuthorizerConfig) arabirimiyle uyumlu olan herhangi bir istemciyi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="91e05-217">If you require a specific type of authentication and are willing to have your program do the work to load authentication information from the user, you can use any client that conforms to the [auth.AuthorizerConfig](https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#AuthorizerConfig) interface.</span></span> <span data-ttu-id="91e05-218">Etkileşimli bir program istiyorsanız bu arabirimi uygulayan bir türü veya özelleştirilmiş yapılandırma dosyalarını kullanın ya da başka bir kimlik doğrulama yöntemi kullanmanızı önleyecek bir gereksinim edinin.</span><span class="sxs-lookup"><span data-stu-id="91e05-218">Use a type that implements this interface when you want an interactive program, use specialized configuration files, or have a requirement that prevents you from using another authentication method.</span></span>

> [!WARNING]
> <span data-ttu-id="91e05-219">Azure kimlik bilgilerini asla bir uygulamaya doğrudan yazmayın.</span><span class="sxs-lookup"><span data-stu-id="91e05-219">Never hard-code Azure credentials into an application.</span></span> <span data-ttu-id="91e05-220">Uygulama ikili dosyasına gizli diziler koymak, uygulama çalışsa da çalışmasa da saldırganın bu gizli dizileri ayıklamasını kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="91e05-220">Putting secrets into an application binary makes it easier for an attacker to extract them, whether the application is running or not.</span></span> <span data-ttu-id="91e05-221">Bu kimlik bilgilerinin yetkilendirildiği tüm Azure kaynaklarını tehlikeye atar!</span><span class="sxs-lookup"><span data-stu-id="91e05-221">This puts all Azure resources the credentials are authorized for at risk!</span></span>

<span data-ttu-id="91e05-222">Aşağıdaki tabloda SDK’da `AuthorizerConfig` arabirimiyle uyumlu olan türler listelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="91e05-222">The following table lists the types in the SDK that conform to the `AuthorizerConfig` interface.</span></span>

| <span data-ttu-id="91e05-223">Kimlik doğrulaması türü</span><span class="sxs-lookup"><span data-stu-id="91e05-223">Authentication type</span></span> | <span data-ttu-id="91e05-224">Yetkilendirici türü</span><span class="sxs-lookup"><span data-stu-id="91e05-224">Authorizer type</span></span> |
|---------------------|-----------------------|
| <span data-ttu-id="91e05-225">Sertifika tabanlı kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="91e05-225">Certificate-based authentication</span></span> | <span data-ttu-id="91e05-226">[ClientCertificateConfig]</span><span class="sxs-lookup"><span data-stu-id="91e05-226">[ClientCertificateConfig]</span></span> |
| <span data-ttu-id="91e05-227">İstemci kimlik bilgileri</span><span class="sxs-lookup"><span data-stu-id="91e05-227">Client credentials</span></span> | <span data-ttu-id="91e05-228">[ClientCredentialsConfig]</span><span class="sxs-lookup"><span data-stu-id="91e05-228">[ClientCredentialsConfig]</span></span> |
| <span data-ttu-id="91e05-229">Yönetilen Hizmet Kimliği (MSI)</span><span class="sxs-lookup"><span data-stu-id="91e05-229">Managed Service Identity (MSI)</span></span> | <span data-ttu-id="91e05-230">[MSIConfig]</span><span class="sxs-lookup"><span data-stu-id="91e05-230">[MSIConfig]</span></span> |
| <span data-ttu-id="91e05-231">Kullanıcı adı/parola</span><span class="sxs-lookup"><span data-stu-id="91e05-231">Username/password</span></span> | <span data-ttu-id="91e05-232">[UsernamePasswordConfig]</span><span class="sxs-lookup"><span data-stu-id="91e05-232">[UsernamePasswordConfig]</span></span> |

[ClientCertificateConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#ClientCertificateConfig
[ClientCredentialsConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#ClientCredentialsConfig
[MSIConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#MSIConfig
[DeviceFlowConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#DeviceFlowConfig
[UsernamePasswordConfig]: https://godoc.org/github.com/Azure/go-autorest/autorest/azure/auth#UsernamePasswordConfig

<span data-ttu-id="91e05-237">İlişkili olduğu `New` işleviyle birlikte bir doğrulayıcı oluşturun ve ardından kimlik doğrulama işlemini gerçekleştirmek için sonuç nesnesi üzerinde `Authorize` işlevini çağırın.</span><span class="sxs-lookup"><span data-stu-id="91e05-237">Create an authenticator with its associated `New` function, and then call `Authorize` on the resulting object to perform authentication.</span></span> <span data-ttu-id="91e05-238">Örneğin, sertifika tabanlı kimlik doğrulaması kullanmak için:</span><span class="sxs-lookup"><span data-stu-id="91e05-238">For example, to use certificate-based authentication:</span></span>

```go
import "github.com/Azure/go-autorest/autorest/azure/auth"
certificateAuthorizer := auth.NewClientCertificateConfig(certificatePath, certificatePassword, clientID, tenantID)
authorizerToken, err := certificateAuthorizer.Authorize()
```
